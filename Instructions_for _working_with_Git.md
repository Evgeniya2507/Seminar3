# **Инструкция по работе с Git

![Git logo](git.jpg)

# Общая информация о Git

Git - это одна из самых популярных систем контроля версий. Это простая программа, которая берет на себя вопросы контроля версий над проектами. Она сохраняет в памяти не файлы целиком, а *разницу* между ними.

Чтобы программа выполняла свои основные обязанности, т.е. версионировала файлы, нужно задать ей команду  по созданию локального репозитория.

## Проверка состояние репозитория

Репозиторий - это хранилище файлов, поддерживающее версионность. Для создания локального репозитория (инициализации) в командной строке терминала вводим команду

    git init

Создаем файл в папке, которую мы добивили к отслеживанию. Название файла лучше писать на английском языке, без пробелов и не забывать указывать расширение. В нашем случае используется язык разметки Markdown (.md).
Чтобы узнать статус того, что происходит с файлом, в командную строку терминала вводим команду

    git status

Если в информации о статусе говорится о неотслежанных файлах (Untracked files) - это значит, что git за ними еще не следит.

## Добавление изменений к индексу

Для того, чтобы git отслеживал изменения, которые мы вносим в файл и фиксировал их, мы должны измененный файл перенести в индекс, а далее закоммитить (сохранить) изменения в нем. Для переноса нужного файла в индекс вводим команду

    git add <filename>

Чтобы имя файла прописалось автоматически, достаточно набрать первые несколько букв названия файла и нажать клавишу "tab" (табуляция).

## Фиксация изменений

Теперь нам необходимо внести комментарий к изменениям, чтобы мы понимали что именно мы меняли в исходной версии нашего файла и могли, ориентируясь на эти комментарии, перемещаться по необходимости между всеми версиями. Вводим в командную строку 

    git commit -m "message"

*Примечание:* комментарии лучше писать на английском языке.

В случае, когда мы работаем только с одним файлом и хотим закоммитить его с сообщением после внесенных в него изменений, можно воспользоваться командом

    git commit -am "message"

"-а" - в данном случае переносит файл в индекс и заменяет команду 

    git add <filename>

## Перемещение между версиями

Чтобы иметь возможность перемещаться между различными версиями файла, нужно понимать какие версии вообще существуют. Для этого есть команда 

    git log

Мы перенеслись в журнал изменений, где видим список коммитов в хронологическом порядке с комментариями к ним. У каждого коммита есть свой уникальный идентификационный номер, а также их автор, дата и время создания.

Чаще всего, из всей информации, которую мы видим в журнале коммитов, для дальнейшей работы нам необходимы только:

* идентификационный номер коммита;
* комментарий к коммиту.

Чтобы увидеть журнал коммитов с сжатой информацией можно набрать команду

    git log --online

Выбираем тот коммит, в который хотим переместиться, копируем его номер и вводим команду

    git checkout <commitnumber>

Мы переместились в старую версию нашего файла. Чтобы вернуться обратно в текущую версию, вводим команду

    git checkout master

Master - это название ветви, в которой мы работаем.

Представим ситуацию, когда мы переместились в одну из первых версий и хотим "подняться" на пару версий выше. Мы набираем уже знакомую нам команду "git log", но видим в журнале только те коммиты, которые были созданы до той версии, в которой мы находимся. 

Для просмотра всех коммитов, которые были созданы в период всей работы с файлом набираем команду

    git log --oneline --all

В журнале мы увидим полный список существующих коммитов, а коммит, в котором мы находимся в данный момент будет выделен меткой "HEAD"

## Просмотр разницы между коммитами

Для того, чтобы посмотреть чем текущий файл отличается от уже зафиксированной версии набираем команду

    git diff

В командной строке будут видны измененные строки красного и зеленого цвета:

* красные строки - удаление;
* зеленые строки - добавление.

Мы также имеем возможность сравнить различные версии файла между собой, набрав команду 

    git diff <hash1> <hash2>

## Ветвления

Ветвление в Git нужны для того, чтобы несколько членов команды, работающие над одним проектом, могли вести совместную работу и при этом не мешать друг другу. Главная ветка (master) является, своего рода, чистовиком, в который заливается вся новая, проверенная и согласованная руководителем проекта (или другим ответственным лицом) информация из других веток.

## Просмотр существующих веток

Для того, чтобы в git посмотреть какие ветки доступны для работы и как называется текущая ветка, нужно выполнить команду

    git branch

В терминале мы увидим названия существующих веток, а текущая ветка будет отмечена символом "*".

## Создание новой ветки

Для создания новой ветки нужно выполнить команду

    git branch <branchname>

## Удаление веток

После того, как вся необходимая информация из веток сливается в главную ветку "master", можно эту ветку удалить за ненадобностью. Для этого используются команды

    git branch -d <branchname>

    git branch -D <branchname>

Их основные отличия в том, что команда с "-d" выдаст ошибку при попытке удаления ветки, которая не была слита в текущую ветку (merged). Так Git помогает предотвратить случайное удаление ветки, которая может содержать важную информацию.

Команда с "-D" удаляет ветку, несмотря на то, что ветка еще используется и содержит информацию, которая не была слита в текущую ветку.

## Слияние веток

Для того, чтобы слить информацию в текущую ветку с другой ветки, нужно ввести команду

    git merge <branchname>

ВАЖНО: сливаем в ту ветку, в которой находимся, а не наоборот.

## Merge - конфликт
